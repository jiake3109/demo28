<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JSON songlist</title>
	<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	<style type="text/css">
 		ul {list-style-type: none;}
		li {list-style-type: none;}
	</style>
</head>

<body>
	<script language="javascript">
	$(document).ready(function(){
		$.getJSON("https://jiake3109.github.io/demo28/songlist.json", function(data){
			strHTML="";
			counter = 1;
			data.forEach(function(song) {
					strHTML += counter + ".&nbsp;Title: " + song.title + ",&nbsp;Author: "
					+ song.author + ",&nbsp;Genre: " + song.genre + ",&nbsp;Published_year: " +
					song.published_year + ";<br>";
					counter++;
			})
			document.writeln(strHTML + "<br>"); 
			strHTML="";
			data.forEach(function(song) {
					strHTML += "<div name = 'title'>"+song.title + "</div>Artist: "
					+ song.author + "<div name = 'genre'>Genre: " + song.genre + "</div>Released &nbsp;" +
					song.published_year + "<br><br>";
			})
			document.writeln(strHTML); 
		form = "<br>";
		form +="<h2>Please pick your favorite genre with the following form</h2>";
		form +="<form id = 'form1'> <select id = 'genre' size = '1'> <option>Pop Music</option>";
		form +="<option>Jazz</option><option>Rock Music</option></select><input type='submit'/></form><div id ='output'>&nbsp;</div>";
		document.writeln(form);
		$("form").submit(function(e){
			e.preventDefault();
			var option = document.getElementsByTagName("select");
			var value = option[0].options[option[0].selectedIndex].value;
			var title = document.getElementsByName("title");
			var genre = document.getElementsByName("genre");
			document.write("The value is" + value);
			for (i = 0; i< 10; i++){
			    if (genre[i].innerHTML == value){
				document.getElementById("output").innerHTML += title[i].innerHTML +";&nbsp;&nbsp;";
			    }
			}
		});
		});
	});
		
		
</script>
</body>
</html>
